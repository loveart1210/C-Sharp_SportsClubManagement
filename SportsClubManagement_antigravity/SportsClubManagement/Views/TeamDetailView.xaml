<UserControl x:Class="SportsClubManagement.Views.TeamDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:SportsClubManagement.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="900">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <Image Source="{Binding Team.AvatarPath}" Width="60" Height="60" Stretch="UniformToFill" Grid.Column="0" Margin="0,0,15,0"/>
            
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock Text="{Binding Team.Name}" FontSize="24" FontWeight="Bold" Foreground="#1976D2"/>
                <TextBlock Text="{Binding Team.Description}" Foreground="#666" FontSize="12"/>
            </StackPanel>
            
            <Button Grid.Column="2" Content="â† Quay láº¡i" Command="{Binding BackCommand}" 
                    Padding="12,8" Cursor="Hand" Foreground="#666"/>
        </Grid>

        <!-- Tabs -->
        <TabControl Grid.Row="1" SelectedIndex="{Binding SelectedTabIndex}">
            <!-- Tab 1: Members -->
            <TabItem Header="ðŸ‘¥ ThÃ nh viÃªn">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Text="Danh sÃ¡ch thÃ nh viÃªn" FontSize="14" FontWeight="Bold" Margin="15,15,15,10"/>
                    
                    <DataGrid Grid.Row="1" ItemsSource="{Binding Members}" AutoGenerateColumns="False" CanUserAddRows="False" Margin="15">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="TÃªn" Binding="{Binding UserId}" Width="100"/>
                            <DataGridTextColumn Header="Vai trÃ²" Binding="{Binding Role}" Width="100"/>
                            <DataGridTextColumn Header="NgÃ y tham gia" Binding="{Binding JoinDate}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Tab 2: Subjects -->
            <TabItem Header="ðŸ“š MÃ´n táº­p">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Text="Danh sÃ¡ch mÃ´n táº­p" FontSize="14" FontWeight="Bold" Margin="15,15,15,10"/>
                    
                    <DataGrid Grid.Row="1" ItemsSource="{Binding Subjects}" AutoGenerateColumns="False" CanUserAddRows="False" Margin="15">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="TÃªn mÃ´n" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="MÃ´ táº£" Binding="{Binding Description}" Width="*"/>
                            <DataGridTextColumn Header="Sá»‘ ngÆ°á»i" Binding="{Binding ParticipantCount}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Tab 3: Sessions -->
            <TabItem Header="ðŸ‹ï¸ Buá»•i táº­p">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Text="Danh sÃ¡ch buá»•i táº­p" FontSize="14" FontWeight="Bold" Margin="15,15,15,10"/>
                    
                    <DataGrid Grid.Row="1" ItemsSource="{Binding Sessions}" AutoGenerateColumns="False" CanUserAddRows="False" Margin="15">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="TÃªn buá»•i" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="Báº¯t Ä‘áº§u" Binding="{Binding StartTime}" Width="150"/>
                            <DataGridTextColumn Header="Káº¿t thÃºc" Binding="{Binding EndTime}" Width="150"/>
                            <DataGridTextColumn Header="Ghi chÃº" Binding="{Binding Note}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Tab 4: Attendance -->
            <TabItem Header="âœ… Äiá»ƒm danh">
                <Grid>
                    <TextBlock Text="Tab Äiá»ƒm danh sáº½ Ä‘Æ°á»£c cáº­p nháº­t" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Grid>
            </TabItem>

            <!-- Tab 5: Notifications -->
            <TabItem Header="ðŸ”” ThÃ´ng bÃ¡o">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Text="ThÃ´ng bÃ¡o &amp; BÃ i viáº¿t" FontSize="14" FontWeight="Bold" Margin="15,15,15,10"/>
                    
                    <ListBox Grid.Row="1" ItemsSource="{Binding Notifications}" Margin="15">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Title}" FontWeight="Bold"/>
                                        <TextBlock Text="{Binding Content}" TextWrapping="Wrap" Margin="0,5,0,0"/>
                                        <TextBlock Text="{Binding CreatedDate}" FontSize="11" Foreground="#999"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </TabItem>

            <!-- Tab 6: Funds -->
            <TabItem Header="ðŸ’° Quá»¹ nhÃ³m">
                <Grid>
                    <TextBlock Text="Tab Quá»¹ nhÃ³m sáº½ Ä‘Æ°á»£c cáº­p nháº­t" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
